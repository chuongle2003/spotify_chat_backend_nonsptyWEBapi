@startuml Permission System

' Define colors
!define PRIMARY_COLOR #007bff
!define SECONDARY_COLOR #6c757d
!define SUCCESS_COLOR #28a745
!define DANGER_COLOR #dc3545
!define WARNING_COLOR #ffc107
!define INFO_COLOR #17a2b8

' Define stereotypes
skinparam class {
    BackgroundColor White
    ArrowColor Black
    BorderColor Black
}

' Define classes
class User {
    + id: Integer
    + username: String
    + email: String
    + password: String
    + first_name: String
    + last_name: String
    + avatar: String
    + bio: String
    + is_active: Boolean
    + is_staff: Boolean
    + date_joined: DateTime
    + last_login: DateTime
}

class Admin {
    + is_superuser: Boolean
    + can_manage_all: Boolean
}

class Staff {
    + permissions: Permission
}

class Permission {
    + can_manage_users: Boolean
    + can_manage_content: Boolean
    + can_manage_playlists: Boolean
}

class RegularUser {
    + can_upload_content: Boolean
    + can_create_playlists: Boolean
    + can_comment: Boolean
    + can_follow: Boolean
}

' Define relationships
User <|-- Admin
User <|-- Staff
User <|-- RegularUser
Staff "1" *-- "1" Permission

' Define interfaces
interface UserManager {
    + view_users()
    + view_user_details()
    + toggle_user_active()
    + update_user_info()
}

interface ContentManager {
    + create_song()
    + update_song()
    + delete_song()
    + approve_content()
    + manage_genres()
    + manage_artists()
    + manage_comments()
}

interface PlaylistManager {
    + create_public_playlist()
    + manage_playlist()
    + approve_playlist()
    + mark_featured()
    + manage_playlist_songs()
}

' Connect interfaces to classes
Staff ..|> UserManager
Staff ..|> ContentManager
Staff ..|> PlaylistManager

' Add notes
note right of User
  Base class for all user types
  Contains common user attributes
  and authentication methods
end note

note right of Permission
  Defines specific capabilities
  for staff members
end note

note right of Staff
  Staff members can have one or more
  management permissions
end note

' Add title and legend
title Permission System UML Diagram
legend right
  |Color|Meaning|
  |<#007bff>|Primary|
  |<#6c757d>|Secondary|
  |<#28a745>|Success|
  |<#dc3545>|Danger|
  |<#ffc107>|Warning|
  |<#17a2b8>|Info|
endlegend

@enduml 